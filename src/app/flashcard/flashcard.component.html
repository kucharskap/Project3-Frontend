<div class="columns">
  <div class="main-section column is-three-quarters">
    <!-- loop through each card -->
    <div class="card front-card left">
      <div class="card-content">
        <div class="content">
          <h3 class="center">{{currentCard?.front}}</h3>
          <a (click)="flipBackVisibility()" class="flash-button right">
            <b>➤</b>
          </a>
        </div>
      </div>

    </div>

    <div *ngIf="classState.showForm">
      <div class="card back-card left swing-in-left-fwd">
        <div class="card-content">
          <div class="content">
            <h3 class="center">{{currentCard?.back}}</h3>
          </div>
        </div>
      </div>
    </div>

    <!--only when back of card is shown-->

    <div class="clear center">
      <div *ngIf="classState.showForm">
        <div class="answer-box">
          How well did you know the answer?
        </div>
        <div class="center">
          <span class="e-size left center">
            <a (click)="rateCardandUpdate(1)">😫</a>
            <a (click)="rateCardandUpdate(2)">☹️</a>
            <a (click)="rateCardandUpdate(3)">🤔</a>
            <a (click)="rateCardandUpdate(4)">😊</a>
            <a (click)="rateCardandUpdate(5)">😎</a>
          </span>
        </div>
      </div>
    </div>
  </div>
  <div class="column stats-box">
    <h3>My Statistics: Subject 1</h3>

    <div *ngIf="individualStats">

        <div>Percentage Complete: {{individualStats?.percentageComplete | number:'.0'}}%
        <progress class="progress" value="{{individualStats?.percentageComplete | number:'.0'}}" max="100"></progress>
        <!-- {{individualStats?.percentageComplete | number:'.0'}}% -->
        </div>

        <div>Cards Viewed: {{individualStats?.cardsViewed}}/{{individualStats?.numberOfCards}}
        <progress class="progress" value="{{individualStats?.cardsViewed}}" max="{{individualStats?.numberOfCards}}"></progress>
        </div>

    
        <div>Cards Mastered: {{individualStats?.numberCardsMastered}}/{{individualStats?.numberOfCards}}
        <progress class="progress is-link" value="{{individualStats?.numberCardsMastered}}" max="{{individualStats?.numberOfCards}}"></progress>
        </div>

      <div>Card Distribution:
          1: <progress class="progress is-danger" value="{{individualStats?.cardRatingsDistribution['1']}}" max="{{individualStats?.numberOfCards}}"></progress>
          2: <progress class="progress is-warning" value="{{individualStats?.cardRatingsDistribution['2']}}" max="{{individualStats?.numberOfCards}}"></progress>
          3: <progress class="progress is-success" value="{{individualStats?.cardRatingsDistribution['3']}}" max="{{individualStats?.numberOfCards}}"></progress>
          4: <progress class="progress is-info" value="{{individualStats?.cardRatingsDistribution['4']}}" max="{{individualStats?.numberOfCards}}"></progress>
          5: <progress class="progress is-link" value="{{individualStats?.cardRatingsDistribution['5']}}" max="{{individualStats?.numberOfCards}}"></progress>

        </div>

        <!-- <div style="display: block">
            <canvas baseChart
                    [data]="pieChartData"
                    [labels]="pieChartLabels"
                    [chartType]="pieChartType"
                    (chartHover)="chartHovered($event)"
                    (chartClick)="chartClicked($event)"></canvas>
          </div> -->
        <div class="columns">
          <div class="column">
            <p>Best card:</p>
            <div class="card small-card">
              <p class="center">{{individualStats?.bestCard.front}}</p>
          </div>
        </div>

        <div class="column">Worst Card:
            <div class="card small-card">
              <p class="center">{{individualStats?.worstCard.front}}</p>
          </div>
        </div>
        </div>
          


        

    </div>
    
  </div>
</div>